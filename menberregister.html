<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœƒå“¡è¨»å†Š</title>
    <!-- <link rel="stylesheet" href="../static/style/style.css"> -->
    {% include 'jscstemplate.html' %}   
</head>
<body>
    <header>
        <h1>AIæ™ºæ…§å•†åº—</h1>
    <nav>
        <ul class="menu-1">
            <li><a href="/index">é¦–é </a></li>
        </ul>
    </nav>
    </header>
    <main id = "app">
        <section class="register">
            <table>
                <tr>
                    <td>æœƒå“¡å¸³è™Ÿ</td>
                    <td><input type="text" v-model:value="member.access" placeholder="è«‹è¼¸å…¥å¸³è™Ÿ" required></td>
                </tr>
                <tr>
                    <td>æœƒå“¡å¯†ç¢¼</td>
                    <td><input type="password" v-model:value="member.password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" required></td>
                </tr>
                <tr>
                    <td>æœƒå“¡åç¨±</td>
                    <td><input type="text" v-model:value="member.nickname" placeholder="è«‹è¼¸å…¥åç¨±" required></td>
                </tr>
                <tr>
                    <td>é›»å­éƒµä»¶</td>
                    <td><input type="email" v-model:value="member.email" placeholder="è«‹è¼¸å…¥é›»å­éƒµä»¶" required></td>
                </tr>
            </table>     
            <button type="submit" v-on:click="register">ç¢ºèªè¨»å†Š</button></td>      
        </section>
        <section class="info">
            <button type="submit" v-on:click="linebtn" class="line"></button>
            <button type="submit" v-on:click="mailtobtn" class="email"></button>
        </section>
    </main>
    <footer>
        <p>Copyright Â© 2024 AIæ™ºæ…§å•†åº—. All rights reserved.</p>
    </footer>
    <script>
        var dataMember = {
            member: {access:'', password:'', nickname:'', email:''},
            message:''
        }

        var functions = {
            register:function(){
                console.log('click');
                let addURL = '/api/v1/menber/add'
                let myheader = {"Contect-Type" : "application/json"}
                let jsonStr = JSON.stringify(app.member)
                axios.post(url = addURL, data = app.member, Headers = myheader)
                .then(
                    (response)=>{
                        console.log(response);
                        Swal.fire(
                            {
                                title: response.data.msg,
                                icon : 'success'
                            }
                        ).then((result)=>{
                            console.log('è·³è½‰è‡³é¦–é ')
                            if(result.isConfirmed){
                                location.href='/index'
                            }
                        });
                    }
                )
                .catch(
                    (error)=>{
                        console.log(error);
                        Swal.fire(
                            {
                                title: error.response.data.msg,
                                icon : 'warning'
                            }
                        );
                    }
                );
            },
            linebtn:function(){
                console.log('click');
                Swal.fire(
                    {
                        title: 'ğŸ‘†è«‹æƒæQRCodeğŸ‘†\nå®˜æ–¹Lineãƒ¾(â€¢Ï‰â€¢`)o',
                        imageUrl: 'https://qr-official.line.me/sid/L/760dshrx.png',
                        text: 'ID:@760dshrx',
                        confirmButtonText: "åŠ å¥½äº†~~(â—'â—¡'â—)"
                    }
                );
            },
            mailtobtn:function(){
                Swal.fire(
                    {
                        title: 'âœ‰è¯çµ¡æˆ‘å€‘âœ‰',
                        html: '<a href="mailto:example@gmail.com?subject=æˆ‘æœ‰å•é¡Œ">é›»å­ä¿¡ç®±</a>'                     
                    }
                );
            }
        }

        var app = new Vue(
            {
                delimiters:['{[',']}'],
                data: dataMember,
                methods: functions
            }
        );

        app.$mount('#app'); 
    </script>
</body>
</html>